# FMMDE_2025
Reproducibility Package for Macroeconomic Forecasting using Factor Models with Martingale Difference Errors

## Package Information
- **Date Assembled**: April 23, 2025
- **Author(s)**: Luca Mattia Rolla, Alessandro Giovannelli
- **Contact**: Luca Mattia Rolla (lmrolla92@gmail.com, University of Rome “Tor Vergata”, Italy), Alessandro Giovannelli (alessandro.giovannelli@univaq.it, University of L'Aquila, Italy)
- **Repository URL**: https://github.com/lmrolls/FMMDE_2025

## Overview
This repository contains the code and documentation to reproduce the results in "Macroeconomic Forecasting using Factor Models with Martingale Difference Errors" by Luca Mattia Rolla and Alessandro Giovannelli, submitted to *International Journal of Forecasting*. The package reproduces the paper's tables (1–5) and figures.

## Repository Structure
- `code/`: MATLAB scripts and functions.
  - `codeForSimulations/`: Scripts for simulations.
    - `DGPs/`: Data-generating process functions.
      - `fLeeShao.m`: Linear DGP.
      - `fLeeShaoNonLinear.m`: Nonlinear DGP.
    - `factorEstimation/`: Factor estimation methods.
      - `factorLAM.m`, `factorMDDM.m`, `factorMDDM4.m`, `fixedFactorLAM.m`, `fixedFactorsMDDM.m`, `MDDM.m`, `seqTest.m`, `stockwatson2002.m`: Functions for factor estimation and testing.
    - `Table4/`: Scripts for Table 4.
      - `MainFile_TAB4.m`: Main script.
      - `Tab4.xlsx`: Output file.
      - `subfunctions/standardize.m`: Helper function.
    - `Table5/`: Scripts for Table 5.
      - `MainFile_TAB5.m`: Main script.
      - `Table5_MSFE_Ratios.xlsx`: Output file.
      - `subfunctions/standardize.m`: Helper function.
    - `Tables123/`: Scripts for Tables 1–3.
      - `MainFile_TAB123.m`: Main script.
      - `format.xlsx`, `Simulation_Results.xlsx`: Output files.
      - `subfunctions/factorSim.m`, `SimulFun.m`, `standardize.m`: Helper functions.
  - `plotsLuca/`: Scripts and data for figures.
    - `nfactors.mat`, `nfactorsBAI.mat`, `nfactorsEIG.mat`: Data for factor plots.
    - `plots.m`: Script to generate figures.
- `README.md`: This file.
- `LICENSE`: MIT License.

## Computing Environment
- **Software**: MATLAB R2023b or later
- **Toolboxes**:
  - Statistics and Machine Learning Toolbox (12.4)
  - Linear Algebra (MATLAB core)
- **License**: MIT License (see `LICENSE`)
- **Hardware**: Standard laptop (e.g., Intel i7, 16GB RAM, Windows 10)
- **Expected Runtime**: Approximately 15–30 minutes per table, depending on hardware
- **Setup Instructions**:
  1. Install MATLAB R2023b or later.
  2. Ensure required toolboxes are installed (see above).
  3. Clone this repository: `git clone https://github.com/lmrolls/FMMDE_2025.git` or download as a ZIP.
  4. Open MATLAB and set the working directory to `code/`:
     ```matlab
     cd('path/to/FMMDE_2025/code');
     ```
  5. Add paths manually or create a `startup.m` script (not included) to add all subfolders:
     ```matlab
     addpath(genpath('codeForSimulations'));
     ```

## Data
- **Sharable Data**: Not explicitly included in the provided structure. If datasets (e.g., `.mat` files) are required, they should be placed in a `data/` folder with descriptions.
- **Non-Sharable Data**: If applicable, include access instructions in a `data/external/non_sharable_data.md` file.
- **Intermediary Data**: Outputs like `Tab4.xlsx`, `Table5_MSFE_Ratios.xlsx`, and `Simulation_Results.xlsx` are generated by the scripts and saved in their respective folders.

## Running the Reproducibility Check
- **Computer Used**: Standard laptop (e.g., Intel i7, 16GB RAM, Windows 10)
- **Expected Runtime**:
  - Tables 1–3: ~15–20 minutes each
  - Table 4: ~15 minutes
  - Table 5: ~20–30 minutes
  - Figures: ~5–10 minutes
- **Special Setup**: None (no GPU required)
- **Instructions**:
  1. Clone the repository: `git clone https://github.com/lmrolls/FMMDE_2025.git`.
  2. Open MATLAB and set the working directory to `code/`:
     ```matlab
     cd('path/to/FMMDE_2025/code');
     ```
  3. Add paths:
     ```matlab
     addpath(genpath('codeForSimulations'));
     ```
  4. Run analysis scripts:
     - For Tables 1–3:
       ```matlab
       run('codeForSimulations/Tables123/MainFile_TAB123.m');
       ```
       Outputs: `codeForSimulations/Tables123/Simulation_Results.xlsx`
     - For Table 4:
       ```matlab
       run('codeForSimulations/Table4/MainFile_TAB4.m');
       ```
       Output: `codeForSimulations/Table4/Tab4.xlsx`
     - For Table 5:
       ```matlab
       run('codeForSimulations/Table5/MainFile_TAB5.m');
       ```
       Output: `codeForSimulations/Table5/Table5_MSFE_Ratios.xlsx`
     - For Figures:
       ```matlab
       run('plotsLuca/plots.m');
       ```
       Outputs: Figures generated from `nfactors.mat`, `nfactorsBAI.mat`, `nfactorsEIG.mat`
  5. Outputs are saved in their respective folders (e.g., `Tables123/`, `Table4/`, `Table5/`).

## Mapping Code to Paper Outputs
- **Tables 1–3**: Generated by `codeForSimulations/Tables123/MainFile_TAB123.m` using functions like `factorSim.m` and `SimulFun.m`. Output: `Simulation_Results.xlsx`.
- **Table 4**: Generated by `codeForSimulations/Table4/MainFile_TAB4.m` using `standardize.m`. Output: `Tab4.xlsx`.
- **Table 5**: Generated by `codeForSimulations/Table5/MainFile_TAB5.m` using `standardize.m`. Output: `Table5_MSFE_Ratios.xlsx`.
- **Figures**: Generated by `plotsLuca/plots.m` using `nfactors.mat`, `nfactorsBAI.mat`, and `nfactorsEIG.mat`.

## Notes
- Ensure MATLAB and required toolboxes are installed.
- If data files are required but not included, contact lmrolla92@gmail.com or alessandro.giovannelli@univaq.it, or follow instructions in `data/external/non_sharable_data.md` (if applicable).
- The `factorEstimation/` folder contains core methods (e.g., `factorMDDM.m`, `seqTest.m`) used in simulations.
- Contact lmrolla92@gmail.com or alessandro.giovannelli@univaq.it for questions or issues.

## License
This package is licensed under the MIT License (see `LICENSE`).

## Acknowledgments
The authors are grateful to Tommaso Proietti for his valuable and insightful comments, which led to several improvements in both the presentation and the content of the paper. The authors are also grateful to the participants of the 41st International Symposium on Forecasting 2022. Alessandro Giovannelli gratefully acknowledges financial support from the Italian Ministry of Education, University and Research, Progetti di Ricerca di Interesse Nazionale, research project 2020-2023, project 2020N9YFFE.